<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      layout:decorate="~{ layout/layout.html }">
<head>
    <meta charset="UTF-8">
    <title>Ï†úÎ™©ÎØ∏Ï†ï</title>
    <link rel="stylesheet" th:href="@{/css/home/home.css}">
</head>
<div layout:fragment="content">
<div id="body">
    <div id="wrap">
        <div id="headerMsg">
            <h3>Hi! <span th:text="${#authentication.principal.name}"></span>Îãò</h3>
            <span>~ÎãòÏùò ÏóÖÎ¨¥ ÌôòÏòÅ Î¨∏Íµ¨~</span>
        </div>

        <!-- ÏÇ¨ÏõêÎ≤àÌò∏ Í∞ÄÏ†∏Ïò§Í∏∞ ÏúÑÌïú hidden -->
        <input id="get_employeeNo" type="hidden" th:value="${#authentication.principal.employeeNo}"/>

        <div>
            <div id="myWork" class="row">
                <div class="col-4">
                    <div id="work_info_div">
                        <h3>Hi! <span th:text="${#authentication.principal.name}"></span>Îãò,</h3>
                        <div id="notWorking_msg" th:if="${attendance=='notAttendance'}">
                            <h3>ÏïÑÏßÅ Ï∂úÍ∑º Ï†ÑÏûÖÎãàÎã§ :)</h3>
                        </div>
                        <div th:if="${attendance!='notAttendance'}">
                            <div id="working_msg" th:if="${attendance.endTime == '00:00'}">
                                <h3>Ï°∞Í∏àÎßå ÌûòÎÇ¥Ïöî!!</h3>
                            </div>
                            <div id="endWork_msg" th:if="${attendance.endTime != '00:00'}">
                                <h3>Ïò§ÎäòÎèÑ ÏàòÍ≥†ÌïòÏÖ®ÏäµÎãàÎã§!</h3>
                            </div>
                        </div>
                        <div th:if="${attendance=='notAttendance'}">
                            <div>
                                <button id="startButton" type="button" class="btn btn-primary allButton">ÏóÖÎ¨¥ ÏãúÏûë</button>
                            </div>
                        </div>
                        <!-- Ï∂úÍ∑ºÌõÑ Î≤ÑÌäº -->
                        <div th:if="${attendance != 'notAttendance'}" class="row">
                            <!-- ÏûêÎ¶¨ÎπÑÏõÄ Î≤ÑÌäº -->
                            <div th:if="${attendance.endTime == '00:00'}" class="col-6">
                                <div th:if="${attendance.state != 1}">
                                    <button type="button" id="absenceButton" class="btn btn-secondary halfButton">ÏûêÎ¶¨ ÎπÑÏõÄ</button>
                                </div>
                                <div th:if="${attendance.state == 1}">
                                    <button type="button" id="absenceReleaseButton" class="btn btn-secondary halfButton">ÏûêÎ¶¨ ÎπÑÏõÄ Ìï¥Ï†ú</button>
                                </div>
                            </div>
                            <!--ÏïÑÏßÅ ÏóÖÎ¨¥Ï§ëÏùºÎïå Î≤ÑÌäº -->
                            <div th:if="${attendance.endTime == '00:00'}" class="col-6">
                                <button type="button" id="endButton" class="btn btn-danger halfButton">ÏóÖÎ¨¥ Ï¢ÖÎ£å</button>
                            </div>
                            <!-- ÏóÖÎ¨¥Í∞Ä Îã§ÎÅùÎÇ¨ÏùÑÎïå Î≤ÑÌäº -->
                            <div th:if="${attendance.endTime != '00:00'}">
                                <button type="button" class="btn btn-secondary allButton" disabled>Ìá¥Í∑º ÏôÑÎ£å</button>
                            </div>
                        </div>
                    </div>

                    <!-- Ï∂úÍ≤∞ Í¥ÄÎ¶¨ -->
                    <div id="attendance_wrap">
                        <div id="time_info">
                            <!------------------ Ï∂úÍ∑ºxxxxxxxxxxxxx ---------->
                            <div th:if="${attendance=='notAttendance'}">
                                <div class="row">
                                    <div id="state_time2" class="state_time">
                                        <p>ÏóÖÎ¨¥Ï§ëÏù¥ ÏïÑÎãôÎãàÎã§.</p>
                                    </div>
                                </div>
                                <div id="div_time2" class="row">
                                    <div id="startTime2" class="startTime col-6">
                                        <p>Ï∂úÍ∑º ÏãúÍ∞Ñ</p>
                                        <p>00:00</p>
                                    </div>
                                    <div id="endTme2" class="endTme col-6">
                                        <p>ÏòàÏÉÅ Ìá¥Í∑º ÏãúÍ∞Ñ</p>
                                        <p>00:00</p>
                                    </div>
                                </div>
                            </div>
                            <!------------------ Ï∂úÍ∑ºoooooooooooo ---------->
                            <div th:if="${attendance != 'notAttendance' }">
                                <!--ÏòàÏÉÅ Ìá¥Í∑ºÏãúÍ∞Ñ -->
                                <div th:if="${attendance.endTime == '00:00'}">
                                    <!-- ÏûêÎ¶¨ÎπÑÏõÄÏù¥ ÏïÑÎãêÎïå -->
                                    <div th:if="${attendance.state!=1}">
                                        <div class="state_time row">
                                            <p><span class="light">üü¢</span> ÏóÖÎ¨¥Ï§ë : <span th:text="${workingTime}"></span></p>
                                        </div>
                                    </div>
                                    <!-- ÏûêÎ¶¨ÎπÑÏõÄ ÏÉÅÌÉúÏùºÎïå -->
                                    <div>
                                        <div th:if="${attendance.state==1}">
                                            <div class="state_time row">
                                                <p><span class="light">üü°</span>ÏûêÎ¶¨ÎπÑÏõÄ ÏÉÅÌÉú ÏûÖÎãàÎã§.</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="startTime col-6">
                                            <p>Ï∂úÍ∑º ÏãúÍ∞Ñ</p>
                                            <p th:text="${attendance.startTime}"></p>
                                        </div>
                                        <div class="endTme col-6">
                                            <p>ÏòàÏÉÅ Ìá¥Í∑º ÏãúÍ∞Ñ</p>
                                            <p th:text="${attendance.expectEndTime}"></p>
                                        </div>
                                    </div>
                                </div>
                                <!-- ÏßÑÏßú Ìá¥Í∑ºÏãúÍ∞Ñ-->
                                <div th:if="${attendance.endTime != '00:00'}">
                                    <div class="state_time row">
                                        <p>ÎÇ¥ÏùºÎèÑ ÌôîÏù¥ÌåÖ!!</p>
                                    </div>
                                    <div class="row">
                                        <div class="startTime col-6">
                                            <p>Ï∂úÍ∑º ÏãúÍ∞Ñ</p>
                                            <p th:text="${attendance.startTime}"></p>
                                        </div>
                                        <div class="endTme col-6">
                                            <p>Ìá¥Í∑º ÏãúÍ∞Ñ</p>
                                            <p th:text="${attendance.endTime}"></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Î¨∏ÏÑúÍ≤∞Ï†ú Ìù¨ÏßÄÎ∂ÄÎ∂Ñ-->
                <div class="col-7">
                    <div id="todo">
                        <div>
                            <form id="form">
                                <div class="row" style="padding: 10px">
                                    <div class="col-3">
                                        <select  id="payment" name="payment"  class="form-control" >
                                            <option selected>ÏÑ†ÌÉù</option>
                                            <option value="vacation">Ìú¥Í∞Ä/Ïó∞Ï∞®/Î∞òÏ∞®</option>
                                            <option value="trip">Ï∂úÏû•</option>
                                            <option value="card">Î™ÖÌï®Ïã†Ï≤≠</option>
                                            <option value="leave">Ìá¥ÏÇ¨Ïã†Ï≤≠</option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                            <fieldset class="border-0" id="jb-table">
                                <table class="table" style="border-collapse: collapse">
                                    <thead>
                                    <tr>
                                        <th>Ï†úÎ™©</th>
                                        <th>ÏûëÏÑ± ÏãúÍ∞Ñ</th>
                                        <th>Í≤∞Ïû¨ ÏÉÅÌÉú</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="l : ${docList}">
                                        <!--                                     th:onclick="|location.href='@{vacation/detail(no=${l.no})}'|">-->
                                        <td th:text="${l.title}"></td>
                                        <td th:text="${ #temporals.format(l.createdTime, 'yyyyÎÖÑ MMÏõî ddÏùº') }"></td>
                                        <td th:text="${l.state}"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>

            <!--ÏùÄÏàò ÎØºÏòÅ-->
            <div>
                <div class="row">
                    <!--ÎØºÏòÅ-->
                    <div class="col-4">

                    </div>
                    <!--ÏùÄÏàò-->
                    <div class="col-7">
                        <table class="table table-hover">
                            <thead>
                            <tr class="tr">
                                <th></th>
                                <th scope="col">Ï†úÎ™©</th>
                                <th scope="col">ÏûëÏÑ±Ïûê</th>
                                <th scope="col">ÏûëÏÑ±Ïùº</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="tr" th:each="post: ${postList}" th:onclick="|location.href='@{ /post/detail(postNo=${ post.postNo }) }'|">
                                <td th:switch="${ post.noticeYn }">
                                    <span th:case="4" th:text="${ post.postNo }"></span>
                                    <span th:case="3">ÌåÄ Í≥µÏßÄ</span>
                                    <span th:case="2">Î∂ÄÏÑú Í≥µÏßÄ</span>
                                    <span th:case="1">Ï†ÑÏ≤¥ Í≥µÏßÄ</span>
                                </td>
                                <td th:text="${post.title}"></td>
                                <td th:text="${post.writer}"></td>
                                <td th:text="${#temporals.format(post.createdTime, 'yyyy-MM-dd HH:mm') }"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

</div>

<th:block layout:fragment="script">
    <script th:src="@{/js/home/home.js}"></script>
    <script th:src="@{ /js/payment/list.js }"></script>
    <!--axiosÏÇ¨Ïö©-->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</th:block>
</html>